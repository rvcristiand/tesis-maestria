\documentclass[12pt,spanish,fleqn,openany,letterpaper,pagesize]{scrbook}

\usepackage[utf8]{inputenc}
\usepackage[spanish]{babel}
\usepackage{fancyhdr}
\usepackage{epsfig}
\usepackage{epic}
\usepackage{eepic}
\usepackage{amsmath}

\usepackage{amsthm}

\usepackage{nccmath}
\usepackage{threeparttable}
\usepackage{amscd}
\usepackage{here}
\usepackage{graphicx}
\usepackage{lscape}
\usepackage{tabularx}
\usepackage{subfigure}
\usepackage{longtable}
\usepackage{paralist}
\usepackage{blkarray}

% Me
\usepackage{multicol}
\setlength{\columnseprule}{0.4pt}

\usepackage{tikz}
\usepackage[hidelinks]{hyperref}
\usepackage{siunitx}
\usepackage{stanli}

\usepackage{listings}
\usepackage{color}
\usepackage{breakcites}

\usepackage[style=apa,citestyle=apa]{biblatex}
\DefineBibliographyStrings{spanish}{%
  andothers = {et al}
  }
\addbibresource{BibliMSc.bib}

\usepackage{nicematrix}
% \usepackage{titlesec}

\usepackage{tikz-imagelabels}
\imagelabelset{
	outer dist = -0.5 cm
}

\usepackage{dirtree}

\theoremstyle{plain}
\newtheorem{example}{Ejemplo}

\usepackage{caption}

\renewcommand{\lstlistingname}{Algoritmo}% Listing -> Algorithm
\renewcommand{\lstlistlistingname}{Lista de \lstlistingname s}% List of Listings -> List of Algorithm

%New colors defined below
\definecolor{codegreen}{rgb}{0,0.6,0}
\definecolor{codegray}{rgb}{0.5,0.5,0.5}
\definecolor{codepurple}{rgb}{0.58,0,0.82}
\definecolor{backcolour}{rgb}{0.95,0.95,0.92}

%Code listing style named "mystyle"
\lstdefinestyle{mystyle}{
%   backgroundcolor=\color{backcolour},   commentstyle=\color{codegreen},
  keywordstyle=\color{magenta},
  numberstyle=\tiny\color{codegray},
  stringstyle=\color{codepurple},
  basicstyle=\footnotesize,
  breakatwhitespace=false,         
  breaklines=true,                 
  captionpos=top,                    
  keepspaces=true,                 
%   numbers=left,                    
  numbersep=5pt,                  
  showspaces=false,                
  showstringspaces=false,
  showtabs=false,                  
  tabsize=2
}

%"mystyle" code listing set
\lstset{style=mystyle}

% Formato de definiciones y ejemplos 
\usepackage[listingsutf8,breakable,many]{tcolorbox}
% \tcbuselibrary{minted}

% Caja sin título
\newtcolorbox{cajasimple}{
	breakable,
	%    colframe = red!80!black,
	boxrule = 0.1mm,
	arc = 0.5mm,
	fonttitle = \bfseries
}

% Caja con título
\newtcolorbox[auto counter]{caja}[1][]{
	breakable,
	title = \thetcbcounter. #1,
	%    colframe = red!80!black,
	boxrule = 0.1mm,
	arc = 0.5mm,
	fonttitle = \bfseries
}

% Definiciones
\newtcolorbox{defin}[1][]{
	title = #1,
	colframe = red!80!black,
	boxrule = 0.1mm,
	arc = 0.5mm,
	fonttitle = \bfseries
}

% Ejemplos
\newtcolorbox{ejemplo}{
	breakable,
	title={Ejemplo},
	colframe = blue!80!black,
	boxrule = 0.1mm,
	arc = 0.5mm,
	fonttitle = \bfseries
}

\newtcblisting{mylisting}{
  colframe=cyan,
  colback=cyan!10,
  listing only,
  listing engine=minted,
  minted language=cpp,
  minted options={fontsize=\small,linenos,numbersep=3mm},
}

% Códigos de programación
\newtcblisting{codigoprog}[1][]{
	listing only,
	breakable,
	title = #1,
	%colframe = green!30!black,
	boxrule = 0.1mm,
	arc = 0.5mm,
	fonttitle = \bfseries
}

\usepackage{rotating} %Para rotar texto, objetos y tablas seite. No se ve en DVI solo en PS. Seite 328 Hundebuch
                        %se usa junto con \rotate, \sidewidestable ....


\renewcommand{\theequation}{\thechapter-\arabic{equation}}
\renewcommand{\thefigure}{\textbf{\thechapter-\arabic{figure}}}
\renewcommand{\thetable}{\textbf{\thechapter-\arabic{table}}}


\pagestyle{fancyplain}%\addtolength{\headwidth}{\marginparwidth}
\textheight22.5cm \topmargin0cm \textwidth16.5cm
\oddsidemargin0.5cm \evensidemargin-0.5cm%
\renewcommand{\chaptermark}[1]{\markboth{\thechapter\; #1}{}}
\renewcommand{\sectionmark}[1]{\markright{\thesection\; #1}}
\lhead[\fancyplain{}{\thepage}]{\fancyplain{}{\rightmark}}
\rhead[\fancyplain{}{\leftmark}]{\fancyplain{}{\thepage}}
\fancyfoot{}
\thispagestyle{fancy}%


\addtolength{\headwidth}{0cm}
\unitlength1mm %Define la unidad LE para Figuras
\mathindent0cm %Define la distancia de las formulas al texto,  fleqn las descentra
\marginparwidth0cm
\parindent0cm %Define la distancia de la primera linea de un parrafo a la margen

%Para tablas,  redefine el backschlash en tablas donde se define la posici\'{o}n del texto en las
%casillas (con \centering \raggedright o \raggedleft)
\newcommand{\PreserveBackslash}[1]{\let\temp=\\#1\let\\=\temp}
\let\PBS=\PreserveBackslash

%Espacio entre lineas
\renewcommand{\baselinestretch}{1.1}

%Neuer Befehl f\"{u}r die Tabelle Eigenschaften der Aktivkohlen
\newcommand{\arr}[1]{\raisebox{1.5ex}[0cm][0cm]{#1}}

%Neue Kommandos
\usepackage{Befehle}
%Inicio del documento. Tener en cuenta que hay archivos auxiliares

% Select what to do with todonotes: 
% \usepackage[disable]{todonotes} % notes not showed
\usepackage[draft]{todonotes}   % notes showed

% Select what to do with command \comment:  
% \newcommand{\comment}[1]{}  %comment not showed
% \newcommand{\comment}[1]
% {\par {\bfseries \color{blue} #1 \par}} %comment showed


\begin{document}
\pagenumbering{roman}
\include{HojaTitulo/HojaTituloMSc}

\renewcommand{\tablename}{\textbf{Tabla}}
\renewcommand{\figurename}{\textbf{Figura}}
\renewcommand{\listtablename}{Lista de Tablas}
\renewcommand{\listfigurename}{Lista de Figuras}
\renewcommand{\contentsname}{Contenido}

\newcommand{\clearemptydoublepage}{\newpage{\pagestyle{empty}\cleardoublepage}}
\tableofcontents

\cleardoublepage
\addcontentsline{toc}{chapter}{Lista de figuras} % para que aparezca en el indice de contenidos
\listoffigures % indice de figuras

\cleardoublepage
% \addcontentsline{toc}{chapter}{Lista de tablas} % para que aparezca en el indice de contenidos
% \listoftables % indice de tablas

\addcontentsline{toc}{chapter}{Lista de algoritmos}
\lstlistoflistings
\cleardoublepage

% \cleardoublepage
% \include{Tab_Simbolos/TabSimbolosMSc}
%\include{Resumen}%\newcommand{\clearemptydoublepage}{\newpage{\pagestyle{empty}\cleardoublepage}}
\pagenumbering{arabic}

% \include{MarcoTeorico/MarcoTeorico}
\include{introduction/introduction}
\include{pyFEM/pyFEM}
% \include{metodologia/Metodologia}
% \include{ejemplos_aplicacion/ejemplos_aplicacion}
% \include{analisis_resultados/analisis_resultados}
% \include{Concluciones/conclusiones}

\addcontentsline{toc}{chapter}{\numberline{}Bibliograf\'{\i}a}
\printbibliography
\end{document}
